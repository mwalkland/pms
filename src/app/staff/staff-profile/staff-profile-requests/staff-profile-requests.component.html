<div class="content">

  <h2 *ngIf="projects">Student Requests ({{noOfProjects}})</h2>

  <h3 *ngIf="projects && projects.length === 0">You currently have no outstanding requests.</h3>

  <mat-accordion>
    <ng-container *ngFor="let project of projects; let i = index">
      <mat-expansion-panel *ngFor="let student of project.pendingStudents">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{student.firstname}} {{student.surname}}
          </mat-panel-title>
          <mat-panel-description>
            {{project.name}}
          </mat-panel-description>
        </mat-expansion-panel-header>

        <p *ngIf="project.maxStudents && !project.isStudentProject" class="max-students">
          <span class="bold-text">Max Students:</span> {{project.maxStudents}}
        </p>
        <p *ngIf="!project.maxStudents && !project.isStudentProject" class="max-students">
          <span class="bold-text">Max Students:</span> Unlimited
        </p>
        <p *ngIf="project.isStudentProject" class="bold-text">This is a student proposed project.</p>
        <p>{{project.description}}</p>

        <mat-action-row>
          <button mat-button color="primary" (click)="confirm(project, student)">Confirm</button>
          <button mat-button (click)="reject(project, student)">Reject</button>
        </mat-action-row>

      </mat-expansion-panel>
    </ng-container>
  </mat-accordion>
</div>